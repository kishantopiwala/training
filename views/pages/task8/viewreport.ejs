<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagination</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
    <style>
        .ct {
            max-width: max-content;
            text-align: center;
            margin: 50px auto;
        }
    </style>
</head>

<body class="ct">
    <div class="m-5">
        <h2> Name: <%= StudentName %></h2>
        <h2> ID: <%= studentid %></h2>
        <table class="table">
            <thead>
                    <tr>
                        <th >Subject Name</th>
                        <th colspan="2">Terminal</th>
                        <th colspan="2">Prilimary</th>
                        <th colspan="2">Final</th>
                        <th>Total Theory Marks</th>
                        <th>Total Pratical Marks</th>
                        <th>Total Marks</th>
                    </tr>
                    <tr>
                        <%for(let value in col) { %>
                            <td>
                                <a href="/viewreport">
                                    <%= col[value].name %>
                                </a>
                            </td>
                        <%} %>
                    </tr>
            </thead>
            <tbody>
                <% var terminaltotalmarks = 0; var prilimarytotalmarks = 0; var finaltotalmarks = 0 ; var TotalMarks = 0;%>
                <%for(let i=0; i < row.length;i++) {%>
                    <tr>
                        <% for(let j=0; j < col.length; j++) {%>
                            <td>
                               <% if(col[j].name == "TerminalTheoryMarks" || col[j].name == "TerminalPraticalMarks" ){
                                    terminaltotalmarks = terminaltotalmarks + Number(row[i][col[j].name]);
                                 }
                                  else if(col[j].name == "PrimilaryTheory" || col[j].name == "PrimilaryPratical"){
                                    prilimarytotalmarks = prilimarytotalmarks + Number(row[i][col[j].name]);
                                  }
                                  else if(col[j].name == " 	FinalTheory" || col[j].name == "FinalPratical"){
                                    finaltotalmarks = finaltotalmarks + Number(row[i][col[j].name]);
                                  }
                                  else if(col[j].name == " 	TotalMarks" || col[j].name == "TotalMarks"){
                                    TotalMarks = TotalMarks + Number(row[i][col[j].name]);
                                  }
                                %>
                                <%= row[i][col[j].name] %>
                            </td>
                            <%}%>
                        </tr>
                        <%}%>
                        
                        
                <td><b>Percentage</b></td>
                <td colspan="2"><b><%= (terminaltotalmarks / 6).toFixed(2) %>%</b></td>
                <td colspan="2"><b><%= (prilimarytotalmarks / 6).toFixed(2)%>%</b></td>
                <td colspan="2"><b><%= (prilimarytotalmarks / 6).toFixed(2)%>%</b></td>
                <td colspan="2"><b></td>
                <td colspan="2"><b><%= ((TotalMarks / 1200)*100).toFixed(2)%>%</b></td>
            </tbody>
        </table>
    </div>
    <script>
        
    </script>
</body>

</html>